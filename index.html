<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8 />
    <title>A simple map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' />
    <link href='https://fonts.googleapis.com/css?family=Work+Sans:400,500,600' rel='stylesheet' type='text/css'>

    <style>
        body {
            margin: 0;
            padding: 0;
            background: whitesmoke;
            font-family: "Work Sans", sans-serif;
        }
        
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            width: 100%;
            border-left: 3px solid #d3d3d3;
        }
        
        #side-panel {
            width: 36%;
        }
    </style>
</head>

<body>

    <div id='map'></div>

    <script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.2.0/leaflet-omnivore.min.js'></script>
    <script>
        L.mapbox.accessToken = 'pk.eyJ1Ijoicmdkb25vaHVlIiwiYSI6Im5Ua3F4UzgifQ.PClcVzU5OUj17kuxqsY_Dg';

        var map = L.mapbox.map('map', 'mapbox.light', {
            center: [38.2, -85.7]
            , zoom: 11
                //     minZoom: 6,
                //     maxZoom: 9
                //    maxBounds: L.latLngBounds([-6.22, 27.72],[5.76, 47.83])
        });

        //  var countyCentroids = omnivore.csv('LVA_table1.csv').addTo(map);



        omnivore.csv('LVA_table1.csv')
            .on('ready', function (e) {
                drawMap(e.target.toGeoJSON());
            })
            .on('error', function (e) {
                console.log(e.error[0].message);
            });

        function drawMap(schoolData) {
            
            var myIcon = L.icon({
                iconUrl: 'https://s3.amazonaws.com/com.cartodb.users-assets.production/production/jonmrich/assets/20150203194453red_pin.png',
                 iconRetinaUrl: 'my-icon@2x.png',
    iconSize: [30, 30],
    iconAnchor: [0, 10],
    popupAnchor: [-3, -76],
   // shadowUrl: 'my-icon-shadow.png',
 //   shadowRetinaUrl: 'my-icon-shadow@2x.png',
 //   shadowSize: [68, 95],
  //  shadowAnchor: [22, 94]
                });
            
            var education = L.geoJson(schoolData, {
                pointToLayer: function(feature, latlng){
               
                    return L.marker(latlng, {
                        icon: myIcon
                });
            }
                
            }).addTo(map);
            
            
           var outreach = L.geoJson(schoolData).addTo(map);
            
        }
        
        
        
        
        
    </script>
</body>

</html>